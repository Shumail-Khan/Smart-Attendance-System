{% extends "base.html" %}
{% block content %}

<div class="p-6">
  <div class="flex justify-between mb-6">
    <h1 class="text-2xl font-bold">Persons</h1>

    <a href="{% url 'person_add' %}"
       class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">
      + Add Person
    </a>
  </div>

  <!-- Filters -->
  <div class="grid grid-cols-3 gap-4 mb-4">
    <input placeholder="Search nameâ€¦" class="border p-2 rounded">
    <select class="border p-2 rounded">
      <option>All Categories</option>
      <option>Employee</option>
      <option>Visitor</option>
    </select>
    <select class="border p-2 rounded">
      <option>All Designations</option>
    </select>
  </div>

  <!-- Table -->
  <div class="bg-white rounded-xl shadow overflow-x-auto">
    <table class="w-full text-sm">
      <thead class="bg-gray-100">
        <tr>
          <th class="p-3">Photo</th>
          <th>ID</th>
          <th>Name</th>
          <th>Designation</th>
          <th>Category</th>
          <th>Actions</th>
        </tr>
      </thead>

      <tbody>
        {% for p in persons %}
        <tr class="border-t">
          <td class="p-2">
            <img src="/media/person_photos/{{ p.pid }}.jpg"
                 class="h-10 w-10 rounded-full object-cover"
                 onerror="this.src='/static/img/avatar.png'">
          </td>
          <td>{{ p.pid }}</td>
          <td>{{ p.person_name }}</td>
          <td>{{ p.person_designation }}</td>
          <td>{{ p.person_cat }}</td>
          <td class="space-x-2">
            <a href="{% url 'person_detail' p.pid %}" class="text-blue-600">View</a>
            <a href="{% url 'person_edit' p.pid %}" class="text-yellow-600">Edit</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
