{% extends "base.html" %}
{% block content %}

<div class="max-w-2xl mx-auto p-6 bg-white rounded-xl shadow">
  <h1 class="text-2xl font-bold mb-6">
    {% if mode == "edit" %}Edit{% else %}Add{% endif %} Person
  </h1>

  <form method="POST" enctype="multipart/form-data" class="space-y-4">
    {% csrf_token %}

    <!-- Person ID -->
    <div>
      <label class="block text-sm font-medium mb-1">Person ID</label>
      <input
        name="pid"
        required
        class="w-full border rounded p-2"
        placeholder="Auto or manual ID"
        {% if mode == "edit" %}readonly value="{{ person.pid }}"{% endif %}
      >
    </div>

    <!-- Full Name -->
    <div>
      <label class="block text-sm font-medium mb-1">Full Name *</label>
      <input
        name="person_name"
        required
        class="w-full border rounded p-2"
        value="{{ person.person_name|default:'' }}"
      >
    </div>

    <!-- NIC -->
    <div>
      <label class="block text-sm font-medium mb-1">NIC Number</label>
      <input name="person_nic" class="w-full border rounded p-2">
    </div>

    <!-- Father -->
    <div>
      <label class="block text-sm font-medium mb-1">Father's Name</label>
      <input name="person_father" class="w-full border rounded p-2">
    </div>

    <!-- Designation -->
    <div>
      <label class="block text-sm font-medium mb-1">Designation</label>
      <select name="person_designation" class="w-full border rounded p-2">
        <option value="">Select designation</option>
        <option>Employee</option>
        <option>Manager</option>
        <option>Security</option>
        <option>Admin</option>
      </select>
    </div>

    <!-- Category -->
    <div>
      <label class="block text-sm font-medium mb-1">Category</label>
      <select name="person_cat" class="w-full border rounded p-2">
        <option value="">Select category</option>
        <option>Employee</option>
        <option>Visitor</option>
        <option>Contractor</option>
      </select>
    </div>

    <!-- Profile Photo -->
    <div>
      <label class="block text-sm font-medium mb-1">Profile Photo</label>
      <input type="file" name="profile_photo" accept="image/*">
      <p class="text-xs text-gray-500 mt-1">
        JPG/PNG â€¢ Used as primary profile photo
      </p>
    </div>

    <div class="pt-4 flex justify-end gap-3">
      <a href="{% url 'person_list' %}" class="px-4 py-2 border rounded">
        Cancel
      </a>
      <button class="bg-blue-600 text-white px-5 py-2 rounded">
        Save
      </button>
    </div>
  </form>
</div>

{% endblock %}
